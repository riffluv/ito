# 並べ替え/判定UI 改善草案（sequential / sort-submit）

作成日: 2025-08-26

## ゴール
- 逐次判定（sequential）と一括判定（sort-submit）の操作体験を明確化し、モバイルでも誤操作が起きにくいUIへ。
- ホスト/参加者の役割と可視化を強化。並び操作・判定操作のガイドをUIに常時提示。

## 改善ポイント（概要）
- 共通
  - DnDのドロップ領域を視覚強調（`panelSubBg`+`borderDefault`+`focusRing`）。
  - 「できること」を常時テキストでガイド（`PhaseTips`連携）。
  - 失敗検知時の視覚フィードバック（`gameCard`の`state=fail`の強調光彩）。
- sequential
  - 自分カードの「出す」導線を下部固定エリアに集約。ドロップ可能なゾーンをハイライト。
  - 判定結果（昇順/破綻）をトーストとモニターで即時提示。
- sort-submit
  - 全員のヒントが出揃ったら「並び替え中」バナーを表示（ホスト以外も編集可能/可視）。
  - ホストのみ「せーので判定」ボタンを強調。人数不足/未配置時は非活性と理由表示。
  - 判定開始時は `variant=flip` で段階的に数字面が公開されるアニメーション（reduced motion対応）。

## 画面部品（抜粋）
- `UniversalMonitor`
  - 進行フェーズ/失敗箇所/残り人数を表示。
- `CentralCardBoard`
  - DnDドロップゾーンのスタイル強化。
  - 並び中/公開中の状態表示（semantic tokensのみで反転可能）。
- `Hud`
  - ホスト設定への導線、進捗バー（タイマー導入時を想定）。

## 追加タスク（段階的）
- A11y
  - DnDのキーボード操作補助（上下キーで並べ替え/Enter確定の簡易サポート）。
  - ライブリージョンで結果/失敗やイベント通知。
- モバイル
  - ドラッグのヒット領域拡大（padding/ghostプレビュー）。
  - 画面下部に主要ボタンを固定。

---

この草案は短期で実装可能な範囲を優先しています。詳細UI仕様は追補予定です。
