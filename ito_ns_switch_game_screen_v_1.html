<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ito — Nintendo Switch UI Mock</title>
  <style>
    /* ======================================================
       ito — Nintendo Switch Game Screen (Rich Black + Orange)
       Single file: HTML + CSS + JS  (no external deps)
       ------------------------------------------------------
       Palette
       - Primary (Rich Black): #0A0B0D / #0E1013
       - Secondary (Orange):   #FF7A1A
       - Harmonious Accents:   warm gray, carbon, faint teal for status
       Typography
       - System UI stack with JP fonts
       Layout
       - 3-column grid (Left Rail / Center Board / Right Rail)
       - Scales up to 8 players cleanly
       - Controller hints (A/B/L/R) for console vibe
       ====================================================== */

    :root{
      --rich-black: #0A0B0D;
      --page-grad-1: #0A0B0D;      /* deep base */
      --page-grad-2: #0E1013;      /* subtle elevation */
      --surface:    #13161B;       /* main cards */
      --surface-2:  #181C22;       /* layered */
      --border:     #262C38;       /* strokes */
      --text:       #E7EDF3;       /* text */
      --muted:      #A6B2C0;       /* secondary text */
      --orange:     #FF7A1A;       /* Secondary */
      --orange-2:   #FF8F3C;
      --ok:         #1FC074;       /* soft green */
      --warn:       #F1B34C;       /* amber */
      --bad:        #EF4444;       /* red */
      --ring:       0 0 0 3px rgba(255,122,26,.3);
      --shadow:     0 12px 36px rgba(0,0,0,.35);
      --radius-s: 12px; --radius: 16px; --radius-l: 24px;
    }

    *,*::before,*::after{ box-sizing: border-box; }
    html,body{ height:100%; }
    body{
      margin:0; color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Kaku Gothic ProN", "BIZ UDPGothic", "Yu Gothic UI", Meiryo, sans-serif;
      background:
        radial-gradient(1200px 720px at 15% -5%, rgba(255,122,26,.18), transparent 55%),
        radial-gradient(900px 600px at 110% 0%, rgba(255,122,26,.12), transparent 60%),
        linear-gradient(180deg, var(--page-grad-1), var(--page-grad-2) 60%);
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    }
    a{ color: var(--orange-2); text-decoration: none; }
    a:hover{ text-decoration: underline; }

    /* ---------------- Header ---------------- */
    header{ position:sticky; top:0; z-index:50; backdrop-filter: blur(6px) saturate(1.1);
      background: linear-gradient(180deg, rgba(12,14,18,.92), rgba(12,14,18,.75));
      border-bottom:1px solid var(--border);
    }
    .head{ max-width:1360px; margin:0 auto; padding:14px 22px; display:flex; align-items:center; justify-content:space-between; }
    .brand{ display:flex; align-items:center; gap:12px; font-weight:900; letter-spacing:.3px; }
    .brand .dot{ width:12px; height:12px; border-radius:999px; background:var(--orange);
      box-shadow: 0 0 16px rgba(255,122,26,.9), 0 0 36px rgba(255,122,26,.35); }
    .sys-hints{ display:flex; align-items:center; gap:18px; opacity:.9; }
    .btn-key{ display:inline-grid; place-items:center; min-width:28px; height:28px; padding:0 8px; border-radius:999px;
      border:1px solid var(--border); background:#0F1217; font-weight:800; box-shadow: inset 0 0 0 1px rgba(255,255,255,.04); }

    /* ------------- App Grid (Left / Center / Right) ------------- */
    .wrap{ max-width:1360px; margin:26px auto 56px; padding:0 22px; }
    .grid{ display:grid; grid-template-columns: 330px 1fr 360px; gap:20px; align-items:start; }
    @media (max-width: 1220px){ .grid{ grid-template-columns: 300px 1fr; } #rail-right{ order:3; grid-column:1/-1; } }
    @media (max-width: 900px){ .grid{ grid-template-columns: 1fr; } #rail-left{ order:2; } #center{ order:1; } #rail-right{ order:3; } }

    /* ---------------- Cards ---------------- */
    .card{ background: linear-gradient(180deg, var(--surface), var(--surface-2)); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; }
    .ch{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--border); }
    .ct{ font-weight:900; letter-spacing:.2px; }
    .cb{ padding:16px; }
    .muted{ color:var(--muted); }

    /* ---------------- Left: Players + Lives ---------------- */
    .lives{ display:flex; gap:6px; align-items:center; }
    .heart{ width:16px; height:16px; background: linear-gradient(180deg, #FF8A3C, #D85600); clip-path: path('M12 21s-8-4.438-8-11a4 4 0 1 1 8 0 4 4 0 1 1 8 0c0 6.562-8 11-8 11z'); opacity:.9; }

    .players-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(148px, 1fr)); gap:12px; }
    .p{ position:relative; border:1px solid var(--border); background:#12161B; border-radius:14px; padding:12px; min-height:102px; display:flex; flex-direction:column; gap:8px; transition: transform .08s ease, box-shadow .2s; }
    .p:hover{ transform: translateY(-1px); box-shadow: 0 12px 24px rgba(0,0,0,.25); }
    .p.me{ outline:1px solid rgba(255,122,26,.55); box-shadow: inset 0 0 0 1px rgba(255,122,26,.25); }
    .p-top{ display:flex; align-items:center; gap:10px; }
    .av{ width:38px; height:38px; border-radius:50%; display:grid; place-items:center; font-weight:800;
      background: radial-gradient(circle at 30% 35%, rgba(255,122,26,.35), rgba(255,122,26,.08));
      border:1px solid var(--border); }
    .pn{ font-weight:800; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .ps{ font-size:12px; color:#cbd5df; }
    .tag{ font-size:11px; padding:3px 7px; border-radius:999px; border:1px solid var(--border); background:#0F1217; color:#c7d1d8; }
    .tag.ok{ color:#0c2216; background:linear-gradient(180deg, rgba(31,192,116,.55), rgba(31,192,116,.25)); border-color:rgba(31,192,116,.4) }
    .tag.wait{ color:#331a05; background:linear-gradient(180deg, rgba(255,122,26,.45), rgba(255,122,26,.2)); border-color:rgba(255,122,26,.4) }
    .p-word{ font-size:12px; color:#cbd5df; background:#0F1420; border:1px solid var(--border); border-radius:10px; padding:6px 8px; min-height:30px; }

    /* speaking pulse */
    .pulse{ position:absolute; inset:auto 12px 12px auto; width:10px; height:10px; border-radius:999px; background:var(--ok); box-shadow: 0 0 0 0 rgba(31,192,116,.6); animation:pulse 1.4s infinite; }
    @keyframes pulse{ 0%{ box-shadow: 0 0 0 0 rgba(31,192,116,.55);} 70%{ box-shadow: 0 0 0 12px rgba(31,192,116,0);} 100%{ box-shadow: 0 0 0 0 rgba(31,192,116,0);} }

    /* ---------------- Center: Theme + Composer + Track ---------------- */
    .theme-card{ display:grid; grid-template-columns: 1fr auto; gap:14px; align-items:center; background: linear-gradient(180deg, #151920, #12161B); border:1px solid var(--border); border-radius:14px; padding:14px; }
    .theme-title{ font-size:22px; font-weight:900; }
    .timer{ width:52px; height:52px; border-radius:999px; border:3px solid #1F2532; display:grid; place-items:center; position:relative; }
    .timer::after{ content:""; position:absolute; inset:-3px; border-radius:inherit; border:3px solid var(--orange); border-right-color:transparent; transform: rotate(0deg); animation:spin 22s linear infinite; }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    .composer{ margin-top:12px; display:grid; grid-template-columns: 1fr auto; gap:10px; }
    .input, textarea{ flex:1; background:#0F1217; border:1px solid var(--border); color:var(--text); padding:12px 12px; border-radius:12px; outline:none; transition: box-shadow .2s, border .2s; min-width:0; }
    .input:focus, textarea:focus{ box-shadow: var(--ring); border-color: rgba(255,122,26,.5); }
    .btn{ appearance:none; border:1px solid var(--border); background:#141922; color:var(--text); padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:800; letter-spacing:.2px; transition: transform .06s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease; }
    .btn:hover{ background:#18202C; border-color:#2B3447; }
    .btn:active{ transform: translateY(1px); }

    .cta{ padding:13px 18px; background: linear-gradient(180deg, var(--orange), #E86808); color:#1B0E05; border:none; border-radius:14px; font-weight:900; box-shadow:0 14px 36px rgba(255,122,26,.28); }
    .cta:hover{ filter: brightness(1.05); }

    .my-number{ margin-top:10px; font-size:13px; color:var(--muted); }

    /* Order Track */
    .track{ margin-top:16px; background:#0F1217; border:1px solid var(--border); border-radius:14px; padding:10px; display:grid; grid-template-columns: repeat(8, 1fr); gap:8px; }
    .slot{ height:54px; display:grid; place-items:center; border:1px dashed #2a3242; border-radius:10px; color:#8693a3; letter-spacing:.2px; }
    .slot.filled{ border-style:solid; background: linear-gradient(180deg, #141a24, #0f141c); color:#e7edf3; position:relative; }
    .slot.filled::after{ content:""; position:absolute; inset:auto 6px 6px auto; width:10px; height:10px; border-radius:999px; background:var(--ok); }

    /* ---------------- Right: Chat + Tips ---------------- */
    .chat{ display:flex; flex-direction:column; gap:12px; max-height:560px; }
    .feed{ flex:1; overflow:auto; padding-right:4px; display:flex; flex-direction:column; gap:10px; }
    .bubble{ background:#101725; border:1px solid var(--border); padding:10px 12px; border-radius:12px; width:max-content; max-width:100%; }
    .bubble.me{ background: rgba(255,122,26,.15); border-color: rgba(255,122,26,.35); margin-left:auto; }
    .chat-input{ display:grid; grid-template-columns: 1fr auto; gap:10px; }

    .quick{ display:flex; gap:8px; }
    .chip{ border:1px solid var(--border); background:#0F1217; border-radius:999px; padding:6px 10px; font-weight:700; cursor:pointer; transition:.2s; }
    .chip:hover{ background:#141b25; }

    .tip{ font-size:13px; color:var(--muted); background:#0F1217; border:1px solid var(--border); border-radius:12px; padding:10px; }

    /* ---------------- Toast ---------------- */
    .toast{ position: fixed; left:50%; bottom:24px; transform: translateX(-50%) translateY(20px); background:#111723; border:1px solid var(--border); color:var(--text); padding:12px 16px; border-radius:12px; box-shadow: var(--shadow); opacity:0; pointer-events:none; transition: .3s ease; }
    .toast.show{ opacity:1; transform: translateX(-50%) translateY(0); }
  </style>
</head>
<body>
  <!-- Header: brand only (per request) -->
  <header>
    <div class="head">
      <div class="brand"><span class="dot" aria-hidden="true"></span>ito</div>
      <div class="sys-hints">
        <span class="btn-key">L</span>
        <span class="muted">チャット</span>
        <span class="btn-key">R</span>
        <span class="muted">クイック</span>
        <span class="btn-key">A</span>
        <span class="muted">決定</span>
        <span class="btn-key">B</span>
        <span class="muted">戻る</span>
      </div>
    </div>
  </header>

  <div class="wrap">
    <div class="grid">
      <!-- Left Rail: Players & Lives -->
      <section id="rail-left" class="card" aria-label="参加者">
        <div class="ch">
          <div class="ct">参加者</div>
          <div class="lives" title="ライフ">
            <div class="heart"></div><div class="heart"></div><div class="heart" style="opacity:.35"></div>
          </div>
        </div>
        <div class="cb">
          <div class="players-grid" id="players"></div>
        </div>
      </section>

      <!-- Center: Theme + Composer + Order Track -->
      <section id="center" class="card" aria-label="ゲーム">
        <div class="ch"><div class="ct">お題 & 操作</div><span class="tag wait" id="phase">待機中</span></div>
        <div class="cb">
          <div class="theme-card">
            <div>
              <div class="muted" style="font-size:13px">今ラウンドのお題</div>
              <div class="theme-title" id="theme">好きな食べ物（シンプル→特別）</div>
            </div>
            <div class="timer" title="タイマー"></div>
          </div>

          <div class="composer">
            <input class="input" id="my-word" placeholder="あなたの『たとえ／イメージ』を入力… 例: おにぎり → 20 / 高級フレンチ → 80" />
            <button class="cta" id="btn-submit"><span class="btn-key" style="margin-right:6px">A</span>提出</button>
          </div>
          <div class="my-number" id="my-number">あなたの数字: ？（自分だけに表示）</div>

          <div class="track" id="track">
            <div class="slot">1</div>
            <div class="slot">2</div>
            <div class="slot">3</div>
            <div class="slot">4</div>
            <div class="slot">5</div>
            <div class="slot">6</div>
            <div class="slot">7</div>
            <div class="slot">8</div>
          </div>
        </div>
      </section>

      <!-- Right Rail: Chat & Quick -->
      <section id="rail-right" class="card" aria-label="チャット">
        <div class="ch"><div class="ct">チャット</div></div>
        <div class="cb">
          <div class="chat">
            <div class="quick">
              <div class="chip">👍</div>
              <div class="chip">❓</div>
              <div class="chip">🔥</div>
              <div class="chip">👏</div>
              <div class="chip">🌀</div>
            </div>
            <div class="feed" id="feed" aria-live="polite">
              <div class="bubble">部屋に参加しました。</div>
              <div class="bubble me">よろしく！</div>
            </div>
            <div class="chat-input">
              <input class="input" id="chat-input" placeholder="メッセージを入力" />
              <button class="btn" id="chat-send">送信</button>
            </div>
            <div class="tip">ヒント：数字は言わずに、テーマに沿った比喩で大小を伝えよう。全員で小さい順に並べられれば成功！</div>
          </div>
        </div>
      </section>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    // -------------------------------------------------
    // Demo Data: up to 8 players (two joined)
    // -------------------------------------------------
    const playersData = [
      { id:1, name:'9999sfsfs', word:'', number:'？', me:false, ready:false },
      { id:2, name:'匿名',       word:'', number:'？', me:true,  ready:false },
    ];
    while(playersData.length < 8){ playersData.push({ id: playersData.length+1, name:'空き', word:'', number:'', me:false, ready:false, empty:true }); }

    const playersEl = document.getElementById('players');
    function renderPlayers(){
      playersEl.innerHTML = '';
      playersData.forEach(p => {
        const el = document.createElement('div'); el.className = 'p' + (p.me ? ' me' : ''); if(p.empty) el.style.opacity = .45;
        el.innerHTML = `
          <div class='p-top'>
            <div class='av'>${p.empty ? '+' : (p.name[0] || '?')}</div>
            <div class='grow'>
              <div class='pn'>${p.name}</div>
              <div class='ps'>連想ワード: ${p.word ? p.word : '（未設定）'}</div>
            </div>
            <span class='tag ${p.ready ? 'ok' : 'wait'}'>${p.empty ? '未参加' : (p.ready ? '準備OK' : '待機')}</span>
          </div>
          <div class='p-word'>${p.number ? 'あなたの数字: ' + p.number : ''}</div>
        `;
        playersEl.appendChild(el);
      });
    }
    renderPlayers();

    // -------------------------------------------------
    // Simple interactions
    // -------------------------------------------------
    const me = playersData.find(p => p.me);
    const feed = document.getElementById('feed');

    function toast(msg){ const t=document.getElementById('toast'); t.textContent=msg; t.classList.add('show'); clearTimeout(window.__t); window.__t=setTimeout(()=>t.classList.remove('show'),2200); }

    // Submit word -> mark self ready, place into first empty slot
    document.getElementById('btn-submit').addEventListener('click', () => {
      const w = document.getElementById('my-word').value.trim(); if(!w){ toast('比喩を入力してください'); return; }
      me.word = w; me.ready = true; toast('提出しました');
      // put into next empty track slot (demo only)
      const slots = [...document.querySelectorAll('.slot')];
      const next = slots.find(s => !s.classList.contains('filled'));
      if(next){ next.classList.add('filled'); next.textContent = me.name + '：' + w; }
      renderPlayers();
    });

    // Quick chips to feed
    document.querySelectorAll('.chip').forEach(c => c.addEventListener('click', () => {
      const b=document.createElement('div'); b.className='bubble me'; b.textContent=c.textContent; feed.appendChild(b); feed.scrollTop = feed.scrollHeight;
    }));

    // Chat send
    const chatInput = document.getElementById('chat-input');
    document.getElementById('chat-send').addEventListener('click', sendChat);
    chatInput.addEventListener('keydown', e => { if(e.key==='Enter'){ e.preventDefault(); sendChat(); } });
    function sendChat(){ const msg=chatInput.value.trim(); if(!msg) return; const b=document.createElement('div'); b.className='bubble me'; b.textContent=msg; feed.appendChild(b); chatInput.value=''; feed.scrollTop=feed.scrollHeight; }

    // Fake private number reveal for demo (press N)
    document.addEventListener('keydown', e => { if(e.key.toLowerCase()==='n'){ me.number = String(Math.floor(Math.random()*100)+1); document.getElementById('my-number').textContent = 'あなたの数字: ' + me.number + '（自分だけに表示）'; renderPlayers(); toast('あなたの数字を配りました（デモ）'); }});
  </script>
</body>
</html>
